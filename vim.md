# 一、小技巧

- 删除：` daw  diw`
- 普通-插入模式：`Ctrl-o`
- 直接计算表达式：`Ctrl-r=表达式<CR>`
- 删除括号内的内容：`di(`，括号也可以换成任意符号，只要是两个相互匹配的就行
- 删除括号以及括号的内容：`da(`
- 复制括号内的内容和复制括号以及括号内的内容：`yi(` 和 `ya(`
- 选中括号内的内容：`vi(`
- 重新排版整个文档：`gg=G`
- 重新排版代码块： ` ={ `
- 重新选择上次选择的区域：` gv `
- 切换选择区域的活动端：在已经选择的模式下按 ` o `
- 查看历史命令：`q:`，然后可以使用 `jk` 来上下移动
- 查找特定单词：`/\<the\>` 或者 `/\v<the>`

---

# 二、替换字符串
## 替换当前行的内容
```
:s/from/to/     把当前行中的第一个 from 改为 to
:s/from/to/g    把当前行所有的 from 改为 to
:s/from/to/gc   把当前行的 from 改为 to，并有提示确认操作
```

## 替换某一行的内容
```
:.s/from/to/g     在当前行操作
:33s/from/to/g    在第 33 行进行操作
:$s/from/to/g
```

## 替换某些行
```
：10,20s/from/to/g  操作第 10 行到第 20 行
```

# 三、二合字母
在插入模式中，只需要输入：
```
<C-k>{char1}{char2}
```
即可。
可以用命令：`:h digraphs `查看可用的二合字母列表(需要往下翻几页)

# 四、寄存器
1、复制专用寄存器：`"0`。
使用 `dd` 和 `x` 的时候，不会改变此寄存器里面的内容。
2、使用小写字母引用有名寄存器的时候，会覆盖该寄存器的原有内容；
使用大写字母的话，则会将新内容添加到该寄存器的原有内容之后。
3、在插入模式的时候，可以直接使用：`<C-r>a` 来复制a寄存器里面的内容。
4、`:reg` 可以查看所有寄存器里的内容；
`:reg a` 可以查看a寄存器里的内容。
5、并行执行宏录制：
先选中需要执行宏的行数，然后输入：`:normal @a`
6、
```
:let i=0
:let i += 1
```
这样会使 i 的值自加 1。
之后在插入模式下运行：`<C-r>=i<CR>`，即可插入变量 i 的值。

# 五、vimgrep
```
:vim /function demo/ *.c        在当前目录的.c文件中，搜索function demo
:vim /function demo/ **/*.c     在任意目录的.c文件中，搜索function demo
:vim /function demo/ **/*.{h,c} 在任意目录的.c和.h文件中，搜索function demo
:vim /\cfunction demo/ **/*.c   使用\c，不区分大小写
:vim /\Cfunction demo/ **/*.c   使用\C，区分大小写
:vim /function demo/j *.c       只更新quickfix，不跳转到第一个搜索结果
:vim /function demo/g *.c       一行中若有多个匹配，每个都要单独显示一行
:vim /function demo/ %          在当前打开文件中查找
```